<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Christmas Gift</title>
    <!-- React and Babel for in-browser JSX transpilation -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #1a0f0f; margin: 0; }
        .font-serif { font-family: 'Playfair Display', serif; }
        @keyframes pulse-slow {
            0%, 100% { opacity: 0.1; }
            50% { opacity: 0.4; }
        }
        .animate-pulse-slow { animation: pulse-slow 4s infinite; }
        
        /* Custom transitions for the unboxing feel */
        .fade-enter { opacity: 0; transform: scale(0.95); }
        .fade-enter-active { opacity: 1; transform: scale(1); transition: all 1000ms ease-out; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        // Import Lucide icons manually since we're in a browser environment
        const { Gift, Plane, Sparkles, ChevronRight, ChevronLeft, Check, Heart, MapPin } = {
            Gift: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="3" y="8" width="18" height="4" rx="1"/><path d="M12 8v13"/><path d="M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7"/><path d="M7.5 8a2.5 2.5 0 0 1 0-5C11 3 12 8 12 8s1-5 4.5-5a2.5 2.5 0 0 1 0 5"/></svg>,
            Plane: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z"/></svg>,
            Sparkles: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M19 17v4"/><path d="M3 5h4"/><path d="M17 19h4"/></svg>,
            ChevronRight: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m9 18 6-6-6-6"/></svg>,
            ChevronLeft: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m15 18-6-6 6-6"/></svg>,
            Check: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M20 6 9 17l-5-5"/></svg>,
            Heart: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.505 4.115 3 5.5l7 7Z"/></svg>,
            MapPin: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>
        };

        const DESTINATIONS = [
            {
                id: 'alaska',
                name: 'Alaska',
                description: 'Explore the Inside Passage and Glacier Bay. This region is defined by its deep fjords, tidewater glaciers, and the rugged wilderness of the Tongass National Forest.',
                imageUrl: 'https://images.unsplash.com/photo-1534067783941-51c9c23ecefd?auto=format&fit=crop&q=80&w=1200'
            },
            {
                id: 'iceland',
                name: 'Iceland',
                description: 'A Nordic island nation featuring volcanic landscapes, geothermal lagoons, and the Aurora Borealis. Highlights include the Golden Circle and the black sand beaches of VÃ­k.',
                imageUrl: 'https://images.unsplash.com/photo-1520637102912-2df6bb2aec6d?auto=format&fit=crop&q=80&w=1200'
            },
            {
                id: 'switzerland',
                name: 'Switzerland',
                description: 'Visit the heart of the Alps, featuring the Matterhorn and the high-altitude landscapes of the Jungfrau region. Known for its efficient rail networks and historic alpine villages.',
                imageUrl: 'https://images.unsplash.com/photo-1531210483974-4f8c1f33fd35?auto=format&fit=crop&q=80&w=1200'
            },
            {
                id: 'uk',
                name: 'United Kingdom',
                description: 'Experience the historic landmarks of London, the Scottish Highlands, or the rural landscapes of the Cotswolds. A region defined by its deep cultural and architectural heritage.',
                imageUrl: 'https://images.unsplash.com/photo-1513635269975-59663e0ac1ad?auto=format&fit=crop&q=80&w=1200'
            }
        ];

        const App = () => {
            const [step, setStep] = React.useState('box');
            const [currentIndex, setCurrentIndex] = React.useState(0);
            const [selectedDest, setSelectedDest] = React.useState(null);
            const [imgStatus, setImgStatus] = React.useState({});

            React.useEffect(() => {
                DESTINATIONS.forEach((dest) => {
                    const img = new Image();
                    img.src = dest.imageUrl;
                    img.onload = () => setImgStatus(prev => ({ ...prev, [dest.id]: 'loaded' }));
                    img.onerror = () => setImgStatus(prev => ({ ...prev, [dest.id]: 'error' }));
                });
            }, []);

            const handleSelect = (dest) => {
                setSelectedDest(dest);
                setStep('final');
            };

            return (
                <div className="min-h-screen bg-[#1a0f0f] text-[#fdf8f1] overflow-hidden relative selection:bg-red-900/50">
                    {/* Warm Golden Snowfall */}
                    <div className="absolute inset-0 pointer-events-none z-0">
                        {[...Array(30)].map((_, i) => (
                            <div
                                key={i}
                                className="absolute bg-amber-100/30 rounded-full animate-pulse-slow"
                                style={{
                                    width: (Math.random() * 3 + 1) + 'px',
                                    height: (Math.random() * 3 + 1) + 'px',
                                    left: (Math.random() * 100) + '%',
                                    top: (Math.random() * 100) + '%',
                                    animationDuration: (Math.random() * 5 + 4) + 's',
                                }}
                            />
                        ))}
                    </div>

                    <div className="relative z-10 flex flex-col items-center justify-center min-h-screen p-6">
                        {step === 'box' && (
                            <div className="text-center transition-all duration-1000">
                                <h1 className="text-3xl md:text-4xl font-light tracking-[0.2em] mb-16 text-amber-100/80 font-serif uppercase">A Christmas Gift</h1>
                                <button onClick={() => setStep('reveal')} className="group relative focus:outline-none">
                                    <div className="bg-[#2a1a1a] p-16 md:p-20 rounded-full border border-amber-900/30 hover:border-amber-500/50 transition-all duration-700 hover:scale-105 active:scale-95 shadow-[0_0_50px_rgba(120,30,30,0.3)]">
                                        <Gift size={64} className="text-amber-200/80 mx-auto mb-4 group-hover:text-amber-200" />
                                        <p className="text-xs uppercase tracking-[0.4em] text-amber-700 font-medium">Unbox</p>
                                    </div>
                                </button>
                            </div>
                        )}

                        {step === 'reveal' && (
                            <div className="text-center max-w-xl transition-all duration-1000">
                                <Sparkles className="text-amber-400 mx-auto mb-10" size={40} />
                                <h2 className="text-2xl md:text-3xl font-light leading-relaxed text-amber-50 font-serif italic mb-8">
                                    Round-trip airfare for the best Mom and Dad in the world.
                                </h2>
                                <p className="text-amber-100/60 leading-relaxed font-light text-lg mb-12">
                                    Four locations have been preselected for your consideration. Explore the options and choose your preferred journey.
                                </p>
                                <button 
                                    onClick={() => setStep('options')}
                                    className="px-12 py-4 bg-amber-900/20 border border-amber-700/50 hover:bg-amber-600 hover:text-[#1a0f0f] transition-all rounded-full text-xs uppercase tracking-[0.3em] font-semibold flex items-center gap-3 mx-auto shadow-lg"
                                >
                                    Begin Selection <ChevronRight size={14} />
                                </button>
                            </div>
                        )}

                        {step === 'options' && (
                            <div className="w-full max-w-6xl transition-all duration-1000">
                                <div className="grid grid-cols-1 lg:grid-cols-12 gap-16 items-center">
                                    <div className="lg:col-span-7 relative group">
                                        <div className="aspect-[16/10] bg-[#140a0a] rounded-2xl overflow-hidden shadow-2xl border border-white/5 flex items-center justify-center relative">
                                            {imgStatus[DESTINATIONS[currentIndex].id] === 'error' ? (
                                                <div className="text-center p-8">
                                                    <MapPin className="mx-auto mb-4 text-amber-900" size={48} />
                                                    <p className="text-amber-700 uppercase tracking-widest text-xs font-bold italic">Landscape currently unavailable</p>
                                                </div>
                                            ) : (
                                                <img 
                                                    src={DESTINATIONS[currentIndex].imageUrl} 
                                                    alt={DESTINATIONS[currentIndex].name}
                                                    key={DESTINATIONS[currentIndex].id}
                                                    className={`w-full h-full object-cover transition-opacity duration-700 ${imgStatus[DESTINATIONS[currentIndex].id] === 'loaded' ? 'opacity-100' : 'opacity-0'}`}
                                                />
                                            )}
                                            {imgStatus[DESTINATIONS[currentIndex].id] !== 'loaded' && imgStatus[DESTINATIONS[currentIndex].id] !== 'error' && (
                                                <div className="absolute inset-0 flex items-center justify-center">
                                                   <div className="w-8 h-8 border-2 border-amber-900/30 border-t-amber-500 rounded-full animate-spin"></div>
                                                </div>
                                            )}
                                            <div className="absolute inset-0 bg-gradient-to-t from-[#1a0f0f]/90 via-transparent to-transparent pointer-events-none" />
                                        </div>
                                        <div className="absolute -bottom-6 left-1/2 -translate-x-1/2 lg:left-auto lg:right-0 lg:translate-x-0 flex bg-[#2a1a1a] border border-amber-900/30 rounded-full overflow-hidden shadow-xl">
                                            <button onClick={() => setCurrentIndex((prev) => (prev - 1 + DESTINATIONS.length) % DESTINATIONS.length)} className="p-5 hover:bg-amber-900/30 border-r border-amber-900/20 transition-colors focus:outline-none"><ChevronLeft size={20} /></button>
                                            <button onClick={() => setCurrentIndex((prev) => (prev + 1) % DESTINATIONS.length)} className="p-5 hover:bg-amber-900/30 transition-colors focus:outline-none"><ChevronRight size={20} /></button>
                                        </div>
                                    </div>
                                    <div className="lg:col-span-5 text-left">
                                        <div className="text-[10px] uppercase tracking-[0.5em] text-amber-600 font-bold mb-4">Location 0{currentIndex + 1}</div>
                                        <h3 className="text-5xl font-light text-amber-50 mb-8 font-serif uppercase tracking-tight">{DESTINATIONS[currentIndex].name}</h3>
                                        <p className="text-xl text-amber-100/70 leading-relaxed font-light mb-10 italic">{DESTINATIONS[currentIndex].description}</p>
                                        <div className="pt-10 border-t border-amber-900/30 space-y-8">
                                            <button 
                                                onClick={() => handleSelect(DESTINATIONS[currentIndex])}
                                                className="w-full py-5 bg-amber-600 hover:bg-amber-500 text-[#1a0f0f] transition-all flex items-center justify-between px-8 rounded-xl font-bold uppercase tracking-widest text-sm shadow-lg shadow-amber-900/20"
                                            >
                                                Select this destination <Check size={20} />
                                            </button>
                                            <div className="flex gap-3">
                                                {DESTINATIONS.map((_, idx) => (
                                                    <button key={idx} onClick={() => setCurrentIndex(idx)} className={`h-1 flex-1 rounded-full transition-all ${currentIndex === idx ? 'bg-amber-400' : 'bg-amber-900/40'}`} />
                                                ))}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}

                        {step === 'final' && selectedDest && (
                            <div className="text-center max-w-2xl transition-all duration-1000">
                                <div className="bg-[#2a1a1a]/50 backdrop-blur-xl border border-amber-900/30 p-12 md:p-20 rounded-[3rem] shadow-2xl relative">
                                    <div className="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 w-20 h-20 bg-amber-600 rounded-full flex items-center justify-center shadow-xl">
                                        <Heart size={32} className="text-[#1a0f0f] fill-current" />
                                    </div>
                                    <h2 className="text-xs uppercase tracking-[0.5em] text-amber-600 font-bold mb-6 mt-4">Destination Confirmed</h2>
                                    <h3 className="text-5xl md:text-6xl font-light text-amber-50 mb-10 font-serif uppercase">{selectedDest.name}</h3>
                                    <div className="aspect-video mb-10 rounded-2xl overflow-hidden border border-amber-500/20 shadow-inner">
                                        <img src={selectedDest.imageUrl} alt={selectedDest.name} className="w-full h-full object-cover" />
                                    </div>
                                    <p className="text-amber-100/60 leading-relaxed text-lg font-light max-w-md mx-auto mb-10 italic">
                                        Pack your bags. The tickets are being finalized. Wishing you a Christmas filled with wonder and safe travels.
                                    </p>
                                    <div className="pt-8 border-t border-amber-900/30 text-center">
                                        <Plane size={24} className="text-amber-600 mx-auto mb-4" />
                                        <p className="text-xs uppercase tracking-[0.4em] text-amber-800 font-bold">Merry Christmas Mom & Dad</p>
                                    </div>
                                </div>
                                <button onClick={() => setStep('options')} className="mt-8 text-amber-900 hover:text-amber-600 text-xs uppercase tracking-widest font-semibold transition-colors focus:outline-none">Change Selection</button>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
